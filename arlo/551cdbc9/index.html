<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"islocal.cc",root:"/",scheme:"Muse",version:"7.8.0",exturl:!1,sidebar:{position:"right",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:"default"},back2top:{enable:!0,sidebar:!1,scrollpercent:!1},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},path:"search.xml"}</script><meta name="description" content="GFS数据来源 数据来源采自美国国家环境预报中心的GFS(全球预报系统)，该系统每天发布4次全球范围的气象数据，分辨率最高可达到0.25° x 0.25°，精度还是比较可观的。GFS数据提供FTP下载方式：http:&#x2F;&#x2F;www.ftp.ncep.noaa.gov&#x2F;data&#x2F;nccf&#x2F;com&#x2F;gfs&#x2F;prod&#x2F;每次发布的数据保存在命名为gfs.YYYYMMDDHH的文件夹中。本次需要的数据精度为0."><meta property="og:type" content="article"><meta property="og:title" content="使用wgrib2将GFS数据导入到mysql"><meta property="og:url" content="http://islocal.cc/arlo/551cdbc9/index.html"><meta property="og:site_name" content="南山草舍"><meta property="og:description" content="GFS数据来源 数据来源采自美国国家环境预报中心的GFS(全球预报系统)，该系统每天发布4次全球范围的气象数据，分辨率最高可达到0.25° x 0.25°，精度还是比较可观的。GFS数据提供FTP下载方式：http:&#x2F;&#x2F;www.ftp.ncep.noaa.gov&#x2F;data&#x2F;nccf&#x2F;com&#x2F;gfs&#x2F;prod&#x2F;每次发布的数据保存在命名为gfs.YYYYMMDDHH的文件夹中。本次需要的数据精度为0."><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://islocal.cc/images/2018/0315/01.png"><meta property="og:image" content="http://islocal.cc/images/2018/0315/02.png"><meta property="article:published_time" content="2018-03-15T03:27:33.000Z"><meta property="article:modified_time" content="2018-08-08T02:44:46.000Z"><meta property="article:author" content="南山小樵"><meta property="article:tag" content="mysql"><meta property="article:tag" content="wgrib2"><meta property="article:tag" content="GFS"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="http://islocal.cc/images/2018/0315/01.png"><link rel="canonical" href="http://islocal.cc/arlo/551cdbc9/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-CN"}</script><title>使用wgrib2将GFS数据导入到mysql | 南山草舍</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="stylesheet" href="/css/prism.css" type="text/css"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">南山草舍</h1><span class="logo-line-after"><i></i></span></a></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul id="menu" class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">16</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">166</span></a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">100</span></a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"><div id="no-result"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content post posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="http://islocal.cc/arlo/551cdbc9/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="南山小樵"><meta itemprop="description" content=""></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="南山草舍"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">使用wgrib2将GFS数据导入到mysql</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2018-03-15 11:27:33" itemprop="dateCreated datePublished" datetime="2018-03-15T11:27:33+08:00">2018-03-15</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2018-08-08 10:44:46" itemprop="dateModified" datetime="2018-08-08T10:44:46+08:00">2018-08-08</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E5%A4%A7%E6%B0%94%E6%A8%A1%E5%9E%8B/" itemprop="url" rel="index"><span itemprop="name">大气模型</span></a></span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="GFS数据来源"><a href="#GFS数据来源" class="headerlink" title="GFS数据来源"></a>GFS数据来源</h1><blockquote><p>数据来源采自美国国家环境预报中心的GFS(全球预报系统)，该系统每天发布4次全球范围的气象数据，分辨率最高可达到0.25° x 0.25°，精度还是比较可观的。<br>GFS数据提供FTP下载方式：<a target="_blank" rel="noopener" href="http://www.ftp.ncep.noaa.gov/data/nccf/com/gfs/prod/">http://www.ftp.ncep.noaa.gov/data/nccf/com/gfs/prod/</a><br>每次发布的数据保存在命名为gfs.YYYYMMDDHH的文件夹中。本次需要的数据精度为0.25°（0p25），所以数据的文件名为：gfs.t{HH}z.pgrb2.0p25.f{XXX}<br>其中HH表示发布的时间，XXX表示未来几小时的预报数据。例如gfs.t00z.pgrb2.0p25.f001 表示0时发布的未来1小时气象数据信息。<br>那么问题来了，这个文件太大了，因为分辨率比较高，每个文件高达200多MB，不仅下载速度慢，处理慢，对存储空间也是一个考验。<br>于是找到了一个可以在线过滤要下载数据的地址：<br><a target="_blank" rel="noopener" href="http://nomads.ncep.noaa.gov/cgi-bin/filter_gfs_0p25.pl">http://nomads.ncep.noaa.gov/cgi-bin/filter_gfs_0p25.pl</a><br>这个网站允许用户仅下载过滤后的文件，并提供下载网址，这样文件就会小很多。<br>例如，在本项目中，仅需要下载降雨数据（PWAT），并且经纬度范围为特定区域，每次发布的数据全部下载下来也才8M多点。<br>那么要想获得GRIB文件中的数据，则需要用到一个软件wgrib2,，该软件在ncep网站上提供源码下载。</p></blockquote><span id="more"></span><h1 id="Mysql安装配置"><a href="#Mysql安装配置" class="headerlink" title="Mysql安装配置"></a>Mysql安装配置</h1><h2 id="查看mysql安装"><a href="#查看mysql安装" class="headerlink" title="查看mysql安装"></a>查看mysql安装</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@siluxa_oracle grib2]# rpm -qa |grep -i mysql</span><br><span class="line">mysql-community-common-5.6.36-2.el6.x86_64</span><br><span class="line">mysql-community-client-5.6.36-2.el6.x86_64</span><br><span class="line">mysql-community-server-5.6.36-2.el6.x86_64</span><br><span class="line">mysql-community-libs-compat-5.6.37-2.el6.x86_64</span><br><span class="line">mysql-community-libs-5.6.36-2.el6.x86_64</span><br><span class="line">mysql-community-devel-5.6.39-2.el6.x86_64</span><br></pre></td></tr></table></figure><h1 id="创建数据库和表"><a href="#创建数据库和表" class="headerlink" title="创建数据库和表"></a>创建数据库和表</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 创建数据库</span><br><span class="line">CREATE DATABASE weatherDB DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;</span><br><span class="line"># 创建表</span><br><span class="line">create table wgrib2 (rt datetime, vt datetime, lat double, lon double, param varchar(80), level varchar(30), value double); </span><br><span class="line"># 创建用户和表，并赋予权限(实验环境可以直接用root，生产环境强烈建议使用普通用户)</span><br><span class="line">-- CREATE USER wgrib2 IDENTIFIED BY &#x27;ffffff&#x27;;</span><br><span class="line">-- GRANT ALL on weatherDB.* to wgrib2@&quot;%&quot; Identified by &quot;ffffff&quot;;</span><br></pre></td></tr></table></figure><h1 id="编译安装wgrib2软件包"><a href="#编译安装wgrib2软件包" class="headerlink" title="编译安装wgrib2软件包"></a>编译安装wgrib2软件包</h1><h2 id="编译安装wgrib2"><a href="#编译安装wgrib2" class="headerlink" title="编译安装wgrib2"></a>编译安装wgrib2</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#安装gcc和gfortran编译器</span><br><span class="line">yum install gcc gcc-gfortran -y</span><br><span class="line">#下载wgrib2软件包</span><br><span class="line">wget http://www.ftp.cpc.ncep.noaa.gov/wd51we/wgrib2/wgrib2.tgz -O  /usr/local/src/wgrib2.tgz</span><br><span class="line">cd /usr/local/src</span><br><span class="line">tar wgrib2.tgz</span><br><span class="line">cd grib2/</span><br><span class="line">#设置编译环境</span><br><span class="line">export CC=gcc</span><br><span class="line">export FC=gfortran</span><br><span class="line"># 启用mysql支持，修改第114行</span><br><span class="line">vim makefile  </span><br><span class="line">USE_MYSQL=1</span><br><span class="line"># 编译</span><br><span class="line">make</span><br></pre></td></tr></table></figure><h2 id="查看wgrib2配置"><a href="#查看wgrib2配置" class="headerlink" title="查看wgrib2配置"></a>查看wgrib2配置</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">[root@siluxa_oracle grib2]#cd wgrib2</span><br><span class="line">[root@siluxa_oracle grib2]# ./wgrib2 -config</span><br><span class="line">wgrib2 v0.2.0.7 12/2017  Wesley Ebisuzaki, Reinoud Bokhorst, John Howard, Jaakko Hyvätti, Dusan Jovic, Daniel Lee, Kristian Nilssen, Karl Pfeiffer, Pablo Romero, Manfred Schwarb, Gregor Schee, Arlindo da Silva, Niklas Sondell, Sam Trahan, Sergey Varlamov</span><br><span class="line">    stock build</span><br><span class="line"></span><br><span class="line">Compiled on 11:02:41 Mar 15 2018</span><br><span class="line"></span><br><span class="line">Netcdf package: &quot;3.6.3&quot; of Mar 15 2018 11:02:16 $ is installed</span><br><span class="line">libaec-1.0.2.tar.gz is installed</span><br><span class="line">Jasper 1.900.1 is installed</span><br><span class="line">mysql package is installed</span><br><span class="line">regex package is installed</span><br><span class="line">tigge package is installed</span><br><span class="line">IPOLATES iplib.v3.0.0 is installed, default vectors:</span><br><span class="line">    UGRD/VGRD VUCSH/VVCSH UFLX/VFLX UGUST/VGUST USTM/VSTM VDFUA/VDFVA MAXUW/MAXVW </span><br><span class="line">    UOGRD/VOGRD UICE/VICE U-GWD/V-GWD USSD/VSSD </span><br><span class="line">Geolocation library status (by search order)</span><br><span class="line">  gctpc geolocation is enabled</span><br><span class="line">  spherical geolocation is enabled</span><br><span class="line">UDF package is not installed</span><br><span class="line">version ftime=2</span><br><span class="line">maximum number of arguments on command line: 10000</span><br><span class="line">maximum number of -match,-not,-if, and -not_if options: 2000</span><br><span class="line">maximum number of -match_fs,-not_fs,-if_fs, and -not_if_fs options: 2000</span><br><span class="line">maximum number of -fgrep, -egrep, -fgrep_v, -egrep_v options: 200</span><br><span class="line">RPN registers: 0..19</span><br><span class="line">memory files: @mem:0, @mem:1 .. @mem:19</span><br><span class="line">stdout buffer length: 30000</span><br><span class="line">default decoding: g2clib emulation</span><br><span class="line">g2clib decoders are not installed</span><br><span class="line">Supported decoding: simple, complex, rle, ieee, png, jpeg2000, CCSDS AEC</span><br><span class="line">user gribtable: (none)</span><br><span class="line">C compiler: gcc (GCC) 4.4.7 20120313 (Red Hat 4.4.7-18)</span><br><span class="line">Fortran compiler: gfortran</span><br><span class="line">OpenMP: control number of threads with environment variable OMP_NUM_THREADS</span><br><span class="line">INT_MAX:   2147483647</span><br><span class="line">ULONG_MAX: 18446744073709551615</span><br></pre></td></tr></table></figure><h1 id="将gfs数据导入到mysql中"><a href="#将gfs数据导入到mysql中" class="headerlink" title="将gfs数据导入到mysql中"></a>将gfs数据导入到mysql中</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./wgrib2 /mnt/wgrib2/gfs_20180313_0000_0p25_240.240 -mysql 192.168.6.123 root ffffff weatherDB wgrib2</span><br></pre></td></tr></table></figure><p><img src="/images/2018/0315/01.png" alt="wgrib2"></p><h2 id="可以过滤性导入数据，格式为-if-“：”-后跟参数"><a href="#可以过滤性导入数据，格式为-if-“：”-后跟参数" class="headerlink" title="可以过滤性导入数据，格式为 -if “：” 后跟参数"></a>可以过滤性导入数据，格式为 -if “：” 后跟参数</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#下边这条命令是将“10 m above ground”的数据导入到wind表中</span><br><span class="line">./wgrib2  /mnt/wgrib2/gfs.t00z.pgrb2.0p25.f000 -if &quot;:10 m above ground&quot; -mysql 192.168.6.123 root ffffff weatherDB wind</span><br></pre></td></tr></table></figure><h2 id="查看导入结果"><a href="#查看导入结果" class="headerlink" title="查看导入结果"></a>查看导入结果</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -pffffff</span><br><span class="line">mysql&gt; use weatherDB;</span><br><span class="line">mysql&gt; select * from `weatherDB`.`wgrib2` limit 0, 20;</span><br></pre></td></tr></table></figure><p><img src="/images/2018/0315/02.png" alt="wgrib2"></p><h1 id="自动下载gfs数据，并导入mysql脚本"><a href="#自动下载gfs数据，并导入mysql脚本" class="headerlink" title="自动下载gfs数据，并导入mysql脚本"></a>自动下载gfs数据，并导入mysql脚本</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">[root@mysql gfs_data]# cat d_gfs00.sh </span><br><span class="line">#!/bin/bash</span><br><span class="line">v_time1=`date &quot;+%Y%m%d00&quot;`</span><br><span class="line">gfs_dir=/data/gfs_data/$v_time1</span><br><span class="line"># 0. 删除2天前的数据</span><br><span class="line">find /data/gfs_data/ -type d -mtime +2 -exec rm -fr &#123;&#125; \;</span><br><span class="line"># 1. 判断目录是否存在，如果不存在新建目录</span><br><span class="line">if [ ! -d &quot;$gfs_dir&quot; ];then</span><br><span class="line">    mkdir -p $gfs_dir</span><br><span class="line">Else</span><br><span class="line">    echo &quot;文件夹已经存在&quot;</span><br><span class="line">fi</span><br><span class="line"># 2. 判断目录下是否有文件</span><br><span class="line">filenum=`ls $gfs_dir |wc -l`</span><br><span class="line">if [ 9 -ne $filenum ];then</span><br><span class="line">    /usr/bin/perl /data/gfs_data/get_gfs.pl data $v_time1 0 24 3 all &#x27;VGRD.10 m above ground|UGRD.10 m above ground&#x27; $gfs_dir  &gt;/dev/null 2&gt;&amp;1</span><br><span class="line">else</span><br><span class="line">    echo &quot;文件已经下载&quot;</span><br><span class="line">fi</span><br><span class="line"># 3. 清空数据库</span><br><span class="line">mysql -uwgrib2 -pwg#123 -e &#x27;truncate table weatherDB.wind&#x27; </span><br><span class="line"># 4. 导入文件到数据库</span><br><span class="line"></span><br><span class="line">for file in $(ls $gfs_dir)</span><br><span class="line">do</span><br><span class="line">    /usr/local/grib2/wgrib2/wgrib2 $gfs_dir/$file -mysql localhost  wgrib2 &#x27;wg#123&#x27; weatherDB wind &gt;/dev/null 2&gt;&amp;1</span><br><span class="line">done</span><br></pre></td></tr></table></figure><p>ps：<br>如果是使用Mariadb数据的话，还需要安装<code>MariaDB-libs mysql-devel MariaDB-shared openssl-devel</code>依赖</p><p>参考链接：<br><a target="_blank" rel="noopener" href="http://blog.csdn.net/pch1982cn/article/details/74292772">http://blog.csdn.net/pch1982cn/article/details/74292772</a><br><a target="_blank" rel="noopener" href="http://www.cpc.ncep.noaa.gov/products/wesley/wgrib2/index.html">http://www.cpc.ncep.noaa.gov/products/wesley/wgrib2/index.html</a><br><a target="_blank" rel="noopener" href="http://www.nco.ncep.noaa.gov/pmb/products/gfs/gfs.t00z.pgrb2f00.npoess.shtml">http://www.nco.ncep.noaa.gov/pmb/products/gfs/gfs.t00z.pgrb2f00.npoess.shtml</a><br>数据下载地址:<br><a href="ftp://ftpprd.ncep.noaa.gov/pub/data/nccf/com/gfs/prod/">ftp://ftpprd.ncep.noaa.gov/pub/data/nccf/com/gfs/prod/</a><br>在线过滤要下载数据的地址:<br><a target="_blank" rel="noopener" href="http://nomads.ncep.noaa.gov/">http://nomads.ncep.noaa.gov</a></p></div><footer class="post-footer"><div class="post-tags"><a href="/tags/mysql/" rel="tag"># mysql</a> <a href="/tags/wgrib2/" rel="tag"># wgrib2</a> <a href="/tags/GFS/" rel="tag"># GFS</a></div><div class="post-nav"><div class="post-nav-item"><a href="/arlo/d9547628/" rel="prev" title="安装rlwrap，使SqlPlus工具支持上下左右键"><i class="fa fa-chevron-left"></i> 安装rlwrap，使SqlPlus工具支持上下左右键</a></div><div class="post-nav-item"><a href="/arlo/1b263496/" rel="next" title="记录一次oracle rac数据库启动故障修复过程">记录一次oracle rac数据库启动故障修复过程 <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><script>window.addEventListener("tabs:register",()=>{let{activeClass:t}=CONFIG.comments;if(CONFIG.comments.storage&&(t=localStorage.getItem("comments_active")||t),t){let e=document.querySelector(`a[href="#comment-${t}"]`);e&&e.click()}}),CONFIG.comments.storage&&window.addEventListener("tabs:click",t=>{if(!t.target.matches(".tabs-comment .tab-content .tab-pane"))return;let e=t.target.classList[1];localStorage.setItem("comments_active",e)})</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#GFS%E6%95%B0%E6%8D%AE%E6%9D%A5%E6%BA%90"><span class="nav-number">1.</span> <span class="nav-text">GFS数据来源</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Mysql%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE"><span class="nav-number">2.</span> <span class="nav-text">Mysql安装配置</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8Bmysql%E5%AE%89%E8%A3%85"><span class="nav-number">2.1.</span> <span class="nav-text">查看mysql安装</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93%E5%92%8C%E8%A1%A8"><span class="nav-number">3.</span> <span class="nav-text">创建数据库和表</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85wgrib2%E8%BD%AF%E4%BB%B6%E5%8C%85"><span class="nav-number">4.</span> <span class="nav-text">编译安装wgrib2软件包</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85wgrib2"><span class="nav-number">4.1.</span> <span class="nav-text">编译安装wgrib2</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8Bwgrib2%E9%85%8D%E7%BD%AE"><span class="nav-number">4.2.</span> <span class="nav-text">查看wgrib2配置</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%B0%86gfs%E6%95%B0%E6%8D%AE%E5%AF%BC%E5%85%A5%E5%88%B0mysql%E4%B8%AD"><span class="nav-number">5.</span> <span class="nav-text">将gfs数据导入到mysql中</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%AF%E4%BB%A5%E8%BF%87%E6%BB%A4%E6%80%A7%E5%AF%BC%E5%85%A5%E6%95%B0%E6%8D%AE%EF%BC%8C%E6%A0%BC%E5%BC%8F%E4%B8%BA-if-%E2%80%9C%EF%BC%9A%E2%80%9D-%E5%90%8E%E8%B7%9F%E5%8F%82%E6%95%B0"><span class="nav-number">5.1.</span> <span class="nav-text">可以过滤性导入数据，格式为 -if “：” 后跟参数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E5%AF%BC%E5%85%A5%E7%BB%93%E6%9E%9C"><span class="nav-number">5.2.</span> <span class="nav-text">查看导入结果</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%87%AA%E5%8A%A8%E4%B8%8B%E8%BD%BDgfs%E6%95%B0%E6%8D%AE%EF%BC%8C%E5%B9%B6%E5%AF%BC%E5%85%A5mysql%E8%84%9A%E6%9C%AC"><span class="nav-number">6.</span> <span class="nav-text">自动下载gfs数据，并导入mysql脚本</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="南山小樵" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">南山小樵</p><div class="site-description" itemprop="description"></div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">166</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">16</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">100</span> <span class="site-state-item-name">标签</span></a></div></nav></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2022</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">南山小樵</span></div><div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动</div></div></footer></div><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script></body></html>